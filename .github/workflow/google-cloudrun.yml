name: CI/CD to Google Cloud Run

on:
  push:
    branches: ["main"]

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    steps:
      # Debug the SERVICE_ACCOUNT_KEY
      - name: Debug SERVICE_ACCOUNT_KEY
        run: |
          echo "Checking if SERVICE_ACCOUNT_KEY is set"
          echo "${{ secrets.SERVICE_ACCOUNT_KEY }}"

      # Test ENV_PROD Secret
      - name: Test ENV_PROD Secret
        run: |
          echo "Environment variable is set: ${{ secrets.ENV_PROD }}"
